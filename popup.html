<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raindrop.io Sync</title>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div class="app-container">
        <header>
            <div class="brand">
                <img src="icon.png" class="brand-icon" alt="Logo">
                <span>Raindrop.io Sync</span>
                <a id="versionTag" class="version-tag" target="_blank" title="View Changelog"></a>
            </div>
            <button id="settingsToggle" class="settings-link" title="Open/Close Settings">
                <span class="settings-icon">‚öôÔ∏è</span>
                <span>Settings</span>
            </button>
        </header>

        <main>
            <!-- Settings Panel -->
            <div id="settingsPanel" class="settings-outer section-outer" data-label="Settings">
                <div class="section-inner">
                    <div class="form-group">
                        <div class="label-with-help">
                            <label for="apiToken">Test Token</label>
                            <span class="help-btn-text" id="tokenHelpBtn" title="Token setup instructions">( How to
                                get a token? )</span>
                            <div class="tooltip" id="tokenTooltip">
                                <strong>1.</strong> Go to Raindrop.io <a
                                    href="https://app.raindrop.io/settings/integrations" target="_blank">Settings >
                                    Integrations</a><br>
                                <strong>2.</strong> Scroll to <em>"For Developers"</em> and click on <em>Create a new
                                    app</em><br>
                                <strong>3.</strong> Give it a name and save.<br>
                                <strong>4.</strong> Click your app > <em>"Create test token"</em>.<br>
                                <strong>5.</strong> Copy and paste it here
                            </div>
                        </div>
                        <input type="password" id="apiToken" placeholder="e.g. 788bb7cd-02a4-436e-a1ec-e4a799973de9">
                        <small id="tokenStatus" class="helper-text"></small>
                    </div>
                    <div class="form-group">
                        <div class="label-with-help">
                            <label for="targetFolder">Toolbar Folder Name</label>
                            <button type="button" class="help-btn" id="folderHelpBtn"
                                title="About target folder">?</button>
                            <div class="tooltip" id="folderTooltip">
                                The folder in your <strong>Bookmarks Toolbar</strong> where synced bookmarks will be
                                placed.
                            </div>
                        </div>
                        <input type="text" id="targetFolder" placeholder="" value="Imported from Raindrop">
                        <small class="helper-text">‚ö†Ô∏è Content in this folder will be overwritten.</small>
                    </div>
                    <div class="form-group">
                        <div class="label-with-help">
                            <label for="syncInterval">Auto Sync</label>
                        </div>
                        <select id="syncInterval" class="sync-select">
                            <option value="0">üö´ Off (Manual)</option>
                            <option value="120">‚è∞ 2 Hours</option>
                            <option value="360">‚è∞ 6 Hours</option>
                            <option value="720" selected>‚è∞ 12 Hours</option>
                            <option value="1440">üìÖ Daily</option>
                            <option value="4320">üìÖ Every 3 Days</option>
                            <option value="10080">üìÜ Weekly</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Sync Configuration Section -->
            <div class="section-outer" data-label="Sync Method">
                <div class="section-inner">
                    <div class="method-selector">
                        <div class="method-card selected" data-method="collection"
                            title="Sync all bookmarks inside specific folders">
                            <span class="method-icon">üìÅ</span>
                            <span class="method-name">By Collection</span>
                        </div>
                        <div class="method-card" data-method="tag" title="Sync all bookmarks that have specific tags">
                            <span class="method-icon">üè∑Ô∏è</span>
                            <span class="method-name">By Tag</span>
                        </div>
                    </div>

                    <!-- Dynamic Input Area -->
                    <div class="input-area">
                        <div class="form-group" id="collectionInputGroup">
                            <div class="input-header">
                                <span class="input-header-label">üìÅ Select Collections</span>
                                <div class="input-header-divider"></div>
                            </div>
                            <input type="text" id="configValueCollection" placeholder="Bookmarks, Tech Tips, Work"
                                value="Bookmarks">
                            <small class="input-helper">Multiple names allowed (e.g. Bookmarks, Tech Tips)</small>
                        </div>
                        <div class="form-group" id="tagInputGroup" style="display: none;">
                            <div class="input-header">
                                <span class="input-header-label">üè∑Ô∏è Select Tags</span>
                                <div class="input-header-divider"></div>
                            </div>
                            <input type="text" id="configValueTag" placeholder="firefox, tech tips, news"
                                value="firefox">
                            <small class="input-helper">Multiple names allowed (e.g. firefox, tech tips)</small>
                        </div>

                        <!-- Flatten Option -->
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="flattenImport">
                                <span>Flatten Structure</span>
                            </label>
                            <button type="button" class="help-btn" id="flattenHelpBtn" title="More info">?</button>
                            <div class="tooltip" id="flattenTooltip">
                                <strong>Checked:</strong> All bookmarks are imported directly into your toolbar folder
                                without subfolders.<br><br>
                                <strong>Unchecked:</strong> Preserves original Raindrop folder structure.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Area -->
            <button id="importBtn" class="import-btn">
                <span>Sync Now</span>
            </button>
            <p id="lastSyncMsg" class="last-sync">Last Sync: Never</p>

            <!-- Status Feedback -->
            <div id="statusMsg" class="status-msg hidden">
                <div class="status-icon"></div>
                <span class="status-text"></span>
            </div>
        </main>

        <footer>
            <div class="footer-bottom">
                <div class="author-area">
                    <span>By</span>
                    <a href="https://github.com/BXZ1" target="_blank" class="author-name">BXZ1</a>
                </div>
                <div class="footer-actions">
                    <a href="https://github.com/BXZ1/raindrop-sync-firefox" target="_blank" class="support-chip"
                        title="Star on GitHub">
                        <img src="https://cdn.simpleicons.org/github/64748b" class="chip-icon" alt="GitHub">
                        <span class="chip-label">Star</span>
                        <span id="starCount" class="star-count"></span>
                    </a>
                    <a href="https://addons.mozilla.org/en-US/firefox/addon/raindrop-sync-firefox/" target="_blank"
                        class="support-chip" title="Rate on Firefox">
                        <img src="https://cdn.simpleicons.org/firefoxbrowser/64748b" class="chip-icon" alt="Firefox">
                        <span class="chip-label">Rate</span>
                    </a>
                    <a href="https://github.com/BXZ1/raindrop-sync-firefox/discussions" target="_blank"
                        class="support-chip" title="Send Feedback">
                        <img src="https://cdn.simpleicons.org/theconversation/64748b" class="chip-icon" alt="Feedback">
                        <span class="chip-label">Feedback</span>
                    </a>
                </div>
            </div>
        </footer>
    </div>
    <script src="popup.js"></script>
</body>

</html>